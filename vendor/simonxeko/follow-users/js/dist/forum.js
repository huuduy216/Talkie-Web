module.exports=function(o){var n={};function t(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return o[e].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=o,t.c=n,t.d=function(o,n,e){t.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:e})},t.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.t=function(o,n){if(1&n&&(o=t(o)),8&n)return o;if(4&n&&"object"==typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&n&&"string"!=typeof o)for(var r in o)t.d(e,r,function(n){return o[n]}.bind(null,r));return e},t.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(n,"a",n),n},t.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},t.p="",t(t.s=12)}([function(o,n){o.exports=flarum.core.compat.extend},function(o,n){o.exports=flarum.core.compat["components/Button"]},function(o,n){o.exports=flarum.core.compat.app},function(o,n){o.exports=flarum.core.compat.Model},function(o,n){o.exports=flarum.core.compat["components/UserPage"]},function(o,n){o.exports=flarum.core.compat["components/Notification"]},function(o,n){o.exports=flarum.core.compat["models/User"]},function(o,n){o.exports=flarum.core.compat["components/NotificationGrid"]},function(o,n){o.exports=flarum.core.compat["utils/UserControls"]},function(o,n){o.exports=flarum.core.compat["components/LinkButton"]},function(o,n){o.exports=flarum.core.compat["helpers/avatar"]},function(o,n){o.exports=flarum.core.compat["helpers/username"]},function(o,n,t){"use strict";t.r(n);var e=t(0),r=t(7),s=t.n(r),a=t(3),i=t.n(a),u=t(6),l=t.n(u),f=t(8),c=t.n(f),p=t(1),d=t.n(p),w=t(2),h=t.n(w),b=t(9),x=t.n(b),_=t(4),y=t.n(_);function g(o,n){o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.__proto__=n}var v,k=t(10),U=t.n(k),j=t(11),O=t.n(j),P=function(o){function n(){return o.apply(this,arguments)||this}g(n,o);var t=n.prototype;return t.init=function(){o.prototype.init.call(this),this.loading=!0,this.followedUsers=app.session.user.followedUsers(),this.loadUser(app.session.user.username())},t.content=function(){var o=this;return m("table",{className:"NotificationGrid"},this.followedUsers.map((function(n,t){return m("tr",null,m("td",null,m("a",{href:app.route.user(n),config:m.route},m("h3",null,U()(n,{className:"followPage-avatar"})," ",O()(n)))),m("td",{className:"followPage-button"},d.a.component({icon:"fas fa-comment-slash",type:"button",className:"Button Button--warning",children:app.translator.trans("simonxeko-follow-users.forum.user_controls.unfollow_button"),onclick:function(){confirm(app.translator.trans("simonxeko-follow-users.forum.user_controls.unfollow_confirmation"))&&(n.save({followed:!1}),o.followedUsers.splice(t,1),app.session.user.followedUsers=m.prop(o.followedUsers))}.bind(n)})))})))},t.show=function(o){this.user=app.session.user,m.redraw()},n}(y.a),T=t(5),N=t.n(T),I=function(o){function n(){return o.apply(this,arguments)||this}g(n,o);var t=n.prototype;return t.icon=function(){return"fas fa-user-tag"},t.href=function(){var o=this.props.notification.subject();return app.route.discussion(o)},t.content=function(){return app.translator.trans("simonxeko-follow-users.forum.notifications.new_discussion_text",{user:this.props.notification.fromUser(),title:this.props.notification.subject().title()})},n}(N.a),M=((v={})[!1]="fas fa-star",v.follow="fas fa-star",v.lurk="fas fa-comments",v.ignore="fas fa-bell-slash",v.hide="fas fa-eye-slash",v),S=function(o){function n(){return o.apply(this,arguments)||this}g(n,o);var t=n.prototype;return t.icon=function(){return M.lurk},t.href=function(){var o=this.props.notification,n=o.subject(),t=o.content()||{};return app.route.discussion(n,t.postNumber)},t.content=function(){return app.translator.trans("simonxeko-follow-users.forum.notifications.new_post_text",{user:this.props.notification.fromUser()})},n}(N.a);app.initializers.add("simonxeko/follow-users",(function(){l.a.prototype.followed=i.a.attribute("followed"),l.a.prototype.followedUsers=i.a.hasMany("followedUsers"),app.routes.followedUsers={path:"/followedUsers",component:P.component()},Object(e.extend)(c.a,"userControls",(function(o,n){app.session.user!==n&&app.session.user&&(n.followed()?o.add("unfollow",d.a.component({icon:"fas fa-user-slash",children:app.translator.trans("simonxeko-follow-users.forum.user_controls.unfollow_button"),onclick:function(){confirm(app.translator.trans("simonxeko-follow-users.forum.user_controls.unfollow_confirmation"))&&this.save({followed:!1})}.bind(n)})):o.add("follow",d.a.component({icon:"fas fa-user",children:app.translator.trans("simonxeko-follow-users.forum.user_controls.follow_button"),onclick:function(){confirm(app.translator.trans("simonxeko-follow-users.forum.user_controls.follow_confirmation"))&&this.save({followed:!0})}.bind(n)})))})),Object(e.extend)(y.a.prototype,"navItems",(function(o){h.a.session.user&&h.a.session.user===this.user&&o.add("followed-users",x.a.component({href:h.a.route("followedUsers"),children:h.a.translator.trans("simonxeko-follow-users.forum.profile_link"),icon:"fas fa-user"}))})),app.notificationComponents.newPostInTag=S,app.notificationComponents.newDiscussionInTag=I,Object(e.extend)(s.a.prototype,"notificationTypes",(function(o){o.add("newDiscussionInTag",{name:"newDiscussionInTag",icon:"fas fa-user-tag",label:app.translator.trans("simonxeko-follow-users.forum.settings.notify_new_discussion_label")}),o.add("newPostInTag",{name:"newPostInTag",icon:"fas fa-user-tag",label:app.translator.trans("simonxeko-follow-users.forum.settings.notify_new_post_label")})}))}),-1)}]);
//# sourceMappingURL=forum.js.map