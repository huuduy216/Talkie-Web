module.exports=function(e){var n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(o,a,function(n){return e[n]}.bind(null,a));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=10)}([function(e,n){e.exports=flarum.core.compat["helpers/icon"]},function(e,n){e.exports=flarum.core.compat.extend},function(e,n){e.exports=flarum.core.compat["components/AdminNav"]},function(e,n){e.exports=flarum.core.compat["components/Button"]},function(e,n){e.exports=flarum.core.compat["components/Dropdown"]},function(e,n){e.exports=flarum.core.compat["components/AdminLinkButton"]},function(e,n){e.exports=flarum.core.compat["components/ExtensionsPage"]},function(e,n){e.exports=flarum.core.compat["components/AddExtensionModal"]},function(e,n){e.exports=flarum.core.compat["components/Page"]},function(e,n){e.exports=flarum.core.compat["components/LoadingModal"]},function(e,n,t){"use strict";t.r(n);var o=t(1),a=t(2),i=t.n(a),s=t(3),r=t.n(s),c=t(4),l=t.n(c),p=t(5),u=t.n(p),d=t(0),f=t.n(d),x=t(6),b=t.n(x),v=t(7),g=t.n(v);var y=t(8),h=t.n(y),N=t(9),k=t.n(N),E=function(e){var n,t;function o(){return e.apply(this,arguments)||this}t=e,(n=o).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var a=o.prototype;return a.view=function(){var e=this;return m("div",{className:"KyrnePage"},m("div",{className:"KyrnePage-list"},m("div",{className:"container"},m("ul",{className:"KyrneList"},Object.keys(app.data.extensions).map((function(n){var t=app.data.extensions[n];if(n.includes("kyrne"))return m("li",null,m("div",{class:"grid-7 element-animation"},m("div",{class:"card color-card"},t.icon?f()(t.icon):m("div",{style:"background:"+t.extra["flarum-extension"].image+"background-position:center;height:90px;width:90px;background-size:90px;display:block;margin:0 auto;margin-top:50px;margin-bottom:-15px;"}),m("h1",{class:"title"},t.extra["flarum-extension"].title),m("p",{class:"version"},t.version),m("div",{class:"desc top"},m("p",null,t.description)),m("button",{onclick:e.toggle.bind(e,t.id),class:"btn top "+(e.isEnabled(t.id)?"":"disabled")}," ",e.isEnabled(t.id)?"Disable":"Enable"),m("hr",{class:"hr"},m("div",{class:"container"},m("div",{class:"content"},app.extensionSettings[t.id]?m("div",{className:"grid-2"},m("a",{onclick:app.extensionSettings[t.id]},m("button",{className:"color-b circle"}," ",f()("fas fa-cog")),m("h2",{className:"title"},"Settings"),m("p",{className:"location"},"Configure"))):"",m("div",{class:"grid-2"},m("a",{target:"_blank",href:t.extra["flarum-extension"].info.link},m("button",{class:"color-c circle"}," ",f()("fas fa-info-circle")),m("h2",{class:"title"},"Info"),m("p",{class:"location"},t.extra["flarum-extension"].info.location))),m("div",{class:"grid-2"},m("a",{target:"_blank",href:t.extra["flarum-extension"].extra.link},m("button",{class:"color-d circle"},f()(t.extra["flarum-extension"].extra.icon)),m("h2",{class:"title"},t.extra["flarum-extension"].extra.title),m("p",{class:"location"},t.extra["flarum-extension"].extra.location)))))))))}))))))},a.isEnabled=function(e){return-1!==JSON.parse(app.data.settings.extensions_enabled).indexOf(e)},a.toggle=function(e){var n=this.isEnabled(e);app.request({url:app.forum.attribute("apiUrl")+"/extensions/"+e,method:"PATCH",body:{enabled:!n}}).then((function(){n||localStorage.setItem("enabledExtension",e),window.location.reload()})),app.modal.show(new k.a)},o}(h.a);app.initializers.add("kyrne-everygreen",(function(){app.routes.kyrne={path:"/kyrne",component:E},Object(o.extend)(i.a.prototype,"items",(function(e){e.add("kyrne",u.a.component({href:app.route("kyrne"),icon:"fas fa-space-shuttle",description:"The home for all of Kyrne's extensions"},"Kyrne's Extensions"))})),Object(o.override)(b.a.prototype,"view",(function(){var e=this;return m("div",{className:"ExtensionsPage"},m("div",{className:"ExtensionsPage-header"},m("div",{className:"container"},r.a.component({icon:"fas fa-plus",className:"Button Button--primary",onclick:function(){return app.modal.show(g.a)}},app.translator.trans("core.admin.extensions.add_button")))),m("div",{className:"ExtensionsPage-list"},m("div",{className:"container"},m("ul",{className:"ExtensionList"},Object.keys(app.data.extensions).map((function(n){var t=app.data.extensions[n],o=e.controlItems(t.id).toArray();if(!n.includes("kyrne"))return m("li",{className:"ExtensionListItem "+(e.isEnabled(t.id)?"":"disabled")},m("div",{className:"ExtensionListItem-content"},m("span",{className:"ExtensionListItem-icon ExtensionIcon",style:t.icon},t.icon?f()(t.icon.name):""),o.length?m(l.a,{className:"ExtensionListItem-controls",buttonClassName:"Button Button--icon Button--flat",menuClassName:"Dropdown-menu--right",icon:"fas fa-ellipsis-h"},o):"",m("div",{className:"ExtensionListItem-main"},m("label",{className:"ExtensionListItem-title"},m("input",{type:"checkbox",checked:e.isEnabled(t.id),onclick:e.toggle.bind(e,t.id)})," ",t.extra["flarum-extension"].title),m("div",{className:"ExtensionListItem-version"},t.version),m("div",{className:"ExtensionListItem-description"},t.description))))}))))))}))}))}]);
//# sourceMappingURL=admin.js.map